{"note":"Don't delete this file! It's used internally to help with page regeneration.","name":"Dlist","body":"dlist - simple directory listing\r\n====\r\n\r\nAn empty folder presented by [Apache](http://apache.org) (and others) is very ugly. [dlist](https://github.com/amgraham/dlist) strives to replace the default in a less-ugly, and slightly-more-useful manner. I hope you find it useful.\r\n\r\nFeatures\r\n----\r\n\r\ndlist's goal is to match the feature set of Apache's default directory list, with a few enhancements (mostly style), in doing so, you can sort the files by the various columns. Clicking them again will reverse the order.\r\n\r\nThere is a [demo available](http://smarterfish.com/assets/) that showcases the various features and design of dlist. Another [demo is available](http://craft.smarterfish.com/map/) that showcases some of the [helper file](#helper-files) features.\r\n\r\nThere is a [soft feature](#handler-files) (one might call it a dangling-of-toes-into-a-cold-pool-implementation) of handling [markdown](http://daringfireball.net/projects/markdown/) files (`*.md`) [which could creep](https://github.com/amgraham/dlist/issues/new) into handling other types of files.\r\n\r\nInstallation\r\n----\r\n\r\nYou only *really* need `dir-listing.php`, [grab the file](https://raw.github.com/amgraham/dlist/master/dir-listing.php), make any [adjustments](#enhancement) you might need to make, and place it somewhere accessible on your web-host of choice.\r\n\r\nIt is recommended to place it somewhere easy (read; universally accessible), and then link it into other directories. Keep in mind, any associated [helper files](#helper-files) will need to go within the various directories that require them.\r\n\r\n    cd /var/www/bin/\r\n    ln -s ../assets/dir-listing.php ./index.php\r\n\r\nIf you wanted to have a `.dir-list` file as well, it must be placed in the same directory.\r\n\r\n    #/var/www/bin/.dir-list\r\n    <?php \r\n    $ignore = array(\"markdown.php\", \"secret-file.html\");\r\n\r\n\t$details = \"A small collection of <em>hopefully</em> helpful documents.\";\r\n\t?>\r\n\r\nI'm very aware that for multiple directories this is a chore, I'm [open to suggestions](https://github.com/amgraham/dlist/issues/new) on how to alleviate the initial investment.\r\n\r\nEnhancement \t{#enhancement}\r\n----\r\n\r\n### General Prettiness\r\n\r\nIt will look prettier if you also utilize four icons and a web-font, they are \"turned on\" by default so you can get up and running immediately.\r\n\r\nThe four icons are from <http://somerandomdude.com/work/iconic/>, while the font is Universalis from <http://arkandis.tuxfamily.org/adffonts.html> both are included in this release for your convenience.\r\n\r\nYou should beautify your installation and upload the four icons and web font somewhere easy (read; universally accessible), open `dir-listing.php` in your favorite editor, and update `$imgdir` &amp; `$fontdir` accordingly (wherever you decided to keep the icons and webfont).\r\n\r\nA refresh of your browser should display the changes.\r\n\r\n### Hidden Files\r\n\r\nBy default, dlist will not display hidden files (some call them \"dot-files\") within the current directory; this is intentional and recommended.\r\n\r\nYou can override the default and change `$showhidden` to `true` and have dlist make your hidden files available for all the world to see. **This is not recommended.** If you follow the recommendation or not, dlist will not show it's [helper files](#helper-files), you can also add your own files to excluded by use of our [helper file](#helper-files) `$ignore` variable.\r\n\r\n\r\nHelper Files \t{#helper-files}\r\n----\r\n\r\nThere is one helper file in use: `.dir-list`, it currently has two options: `$ignore` &amp; `$details`.\r\n\r\nThe first will take whatever is contained in the the array and remove it from being displayed within the rendered page:\r\n\r\n\t$ignore = array(\"markdown.php\", \"secret-file.html\");\r\n\r\nThe second will allow you to include some introductory text at the top of the page:\r\n\r\n\t$details = \"A small collection of <em>hopefully</em> helpful documents.\";\r\n\r\nHandler Files \t{#handler-files}\r\n----\r\n\r\n[dlist](https://github.com/amgraham/dlist) stays out of your way when it comes to individual file access, this is by design. You can add some _very simple_ processing to it through the addition of a handler for [markdown](http://daringfireball.net/projects/markdown/) files (`*.md`).\r\n\r\nTo enable handling of markdown files, you must keep your `dir-listing.php` file (and related files) off a single directory, not having individual copies spread throughout your web server.\r\n\r\nMost people do this anyway; you only have to consolidate things if you don't soft link copies of `dir-listing.php` off a centrally located file:\r\n\r\n\tln -s ../assets/php/dir-listing.php ./index.php\r\n\r\nCreate a directory off that main location called `handlers` and place the three files from this distribution (conveniently located within the `handlers` folder) within that directory:\r\n\r\n\t.htaccess\r\n\tdir-listing.php\r\n\thandlers/\r\n\t- markdown.php\r\n\t- markdown-extra.php\r\n\t- markdown-syntax.md\r\n\r\nUpdate your top-most `.htaccess` file with the following data (typically the one from the example above): \r\n\r\n\tRewriteEngine On\r\n\tRewriteRule (.+)\\.md$  dir-listing.php?action=markdown&file=$1\r\n\r\nNote that if you keep you files in a sub-directory off your root, it would look like this:\r\n\r\n\t.htaccess\r\n\tindex.php\r\n\tfile.md\r\n\tpictures.jpg\r\n\tother_documents/\r\n\t- other-files\r\n\t- lots-of-them\r\n\tdir-list/\r\n\t- dir-listing.php\r\n\t- handlers/\r\n\t  - markdown.php\r\n\t  - markdown-extra.php\r\n\t  - markdown-syntax.md\r\n\r\nKeep in mind, in this example `index.php` **is not** a copy of `dir-listing.php`.\r\n\r\nYour `.htaccess` would look like this:\r\n\r\n\tRewriteEngine On\r\n\tRewriteRule (.+)\\.md$  /dir-list/dir-listing.php?action=markdown&file=$1\r\n\r\nYou will also need to make one minor change to dir-listing.php, but only if it is located in an offshoot (like the example above). You need to tell PHP to traverse up into the same hierarchy as any markdown files that need processing:\r\n\r\n\t# dir-listing.php - original\r\n\t<?php if ($markdown) { ?><article>\r\n\t<?php include($handlerdir.\"markdown-extra.php\"); \r\n\techo Markdown(file_get_contents($_GET[\"file\"].\".md\")); ?>\r\n\t<article>\r\n\r\nMust be changed to:\r\n\r\n\t# dir-listing.php - updated for depth\r\n\t<?php if ($markdown) { ?><article>\r\n\t<?php include($handlerdir.\"markdown-extra.php\"); \r\n\techo Markdown(file_get_contents(\"../\".$_GET[\"file\"].\".md\")); ?>\r\n\t<article>\r\n\r\nNote the addition of `../` within `file_get_contents` on the second to last line. Keep in mind if `dir-listing.php` is in an even deeper directory from your actual content, you should double the depth: `../../` to compensate, and any additional depth will require another `../`.\r\n\r\nFuture\r\n----\r\n\r\n1. Count of items in a folder (not sure about this one; [feedback welcome](https://github.com/amgraham/dlist/issues/new))\r\n2. Modify the helper file to be able to perform simple regex/wildcard matching.\r\n3. More handlers for more types of files. Source code? Images? Sound (I doubt it). [Requests welcome](https://github.com/amgraham/dlist/issues/new).\r\n4. Easy drop-in stylesheets/themes.","tagline":"A simple way to list files in a web-directory","google":""}